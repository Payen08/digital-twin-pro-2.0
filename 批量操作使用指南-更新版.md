# 🎯 批量操作功能 - 使用指南（更新版）

## ✅ 新的使用方式

批量操作功能已集成到工具栏和右侧属性面板中，使用更加直观！

## 🚀 如何使用（3步）

### 步骤 1: 点击批量选择工具
在顶部工具栏中，点击 **批量选择** 按钮（图标：✓✓）

```
工具栏: [选择] [批量选择✓✓] [绘制路径] ...
                  ↑
              点击这里
```

### 步骤 2: 框选对象
- 激活批量选择工具后，**直接拖动鼠标**即可框选
- **不需要按 Shift 键**
- 会出现蓝色虚线框
- 底部会显示提示："拖动鼠标框选多个对象"

### 步骤 3: 在右侧面板操作
框选完成后，**右侧属性面板**会显示批量操作选项：

```
┌─────────────────────────────┐
│ ✓✓ 批量操作                  │
│ 已选择 3 个对象               │
├─────────────────────────────┤
│ [🗑️ 删除选中]               │
│ [📋 复制]                    │
│ [📦 组合]                    │
│ [📏 缩放]                    │
│ [🔄 旋转]                    │
│ [❌ 取消选择]                │
└─────────────────────────────┘
```

## 🎨 界面说明

### 工具栏按钮
- **选择** - 普通选择模式（单个对象）
- **批量选择** ✓✓ - 批量选择模式（框选多个对象）
- **绘制路径** - 绘制路径工具
- **移动/旋转/缩放** - 变换工具

### 右侧属性面板
- 当**批量选择模式**激活且框选了对象后，右侧面板会显示批量操作选项
- 当**普通选择模式**下选中单个对象时，显示对象属性
- 当**没有选中对象**时，显示场景属性

## 💡 操作说明

### 🗑️ 删除选中
- 点击后会弹出确认对话框
- 确认后删除所有选中的对象

### 📋 复制
- 复制所有选中的对象
- 新对象会在 X 轴偏移 2 个单位

### 📦 组合
- 将多个对象组合成一个 Group
- 组合后可以作为一个整体操作

### 📏 缩放
- 点击后输入缩放比例（如 1.5）
- 所有对象会统一缩放

### 🔄 旋转
- 点击后输入旋转角度（如 45）
- 所有对象会绕 Y 轴旋转

### ❌ 取消选择
- 清空所有选择
- 退出批量选择模式

## 🎯 使用流程图

```
开始
  ↓
点击"批量选择"工具
  ↓
拖动鼠标框选对象
  ↓
右侧面板显示批量操作
  ↓
点击相应操作按钮
  ↓
完成！
```

## 📝 注意事项

### ✅ 优点
- **无需按键**：不需要按住 Shift 键
- **集成界面**：操作选项在右侧面板，不会遮挡视图
- **清晰提示**：底部有操作提示
- **工具切换**：可以随时切换到其他工具

### ⚠️ 注意
1. **必须先激活批量选择工具**才能框选
2. 框选只在批量选择模式下有效
3. 切换到其他工具会自动退出批量选择模式
4. 删除操作不可撤销，请谨慎使用

## 🆚 与之前的区别

| 特性 | 旧版本 | 新版本 |
|------|--------|--------|
| 激活方式 | 按住 Shift 键 | 点击工具栏按钮 |
| 操作面板 | 浮动在右上角 | 集成在右侧属性面板 |
| 使用流程 | 随时按 Shift 框选 | 先激活工具，再框选 |
| 界面整洁度 | 可能遮挡视图 | 不遮挡，更整洁 |

## 🎬 实际操作示例

### 示例 1: 批量删除墙体
```
1. 点击"批量选择"工具
2. 拖动鼠标框选多个墙体
3. 在右侧面板点击"删除选中"
4. 确认删除
```

### 示例 2: 批量复制设备
```
1. 点击"批量选择"工具
2. 框选多个设备
3. 在右侧面板点击"复制"
4. 新设备出现在右侧
```

### 示例 3: 批量旋转对象
```
1. 点击"批量选择"工具
2. 框选需要旋转的对象
3. 在右侧面板点击"旋转"
4. 输入角度（如 90）
5. 对象统一旋转
```

## 🔧 快捷键

| 按键 | 功能 |
|------|------|
| ESC | 退出批量选择模式 |
| Delete | 删除选中对象（需确认） |

## 💻 开发者信息

### 相关文件
- `src/App.jsx` - 主应用文件（已集成）
- `src/components/BoxSelection.jsx` - 框选组件
- `src/hooks/useBatchOperations.js` - 批量操作 Hook
- `src/styles/BatchOperations.css` - 样式文件

### 状态管理
```javascript
const [isBatchSelectMode, setIsBatchSelectMode] = useState(false);
const [batchSelectedObjects, setBatchSelectedObjects] = useState([]);
```

## 🎉 开始使用

现在就试试吧！

1. 启动应用
2. 添加几个对象到场景
3. 点击工具栏的"批量选择"按钮
4. 拖动鼠标框选对象
5. 在右侧面板进行批量操作

---

**提示**：如果看不到批量选择按钮，请检查工具栏是否完整显示。
